!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var o in r)("object"==typeof exports?exports:t)[o]=r[o]}}(window,(function(){return function(t){var e={};function r(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(o,i,function(e){return t[e]}.bind(null,i));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e),r.d(e,"Label",(function(){return o}));class o{constructor(t){this.$_core=t,this.$_svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.$_core.$_container.prepend(this.$_svg),this.$_svg.setAttribute("width",this.$_core.$_configs.width),this.$_svg.setAttribute("height",this.$_core.$_configs.height),this.$_core.$_container.style.position="relative",this.$_core.$_container.style.overflow="hidden",this.$_core.$_container.style.width=this.$_core.$_configs.width,this.$_core.$_container.style.height=this.$_core.$_configs.height,this.$_svg.style.position="absolute",this.$_svg.style.zIndex="10",this.$_svg.style.pointerEvents="none"}_drawNode(t,e,r){const o=t.position(),i=o.x*e.k+e.x,n=o.y*e.k+e.y,s=r(t);let a=this.getLabel(t);a?(this._removeContent(a),a.setAttribute("transform",`translate(${i} ${n})`),a.append(s)):(a=document.createElementNS("http://www.w3.org/2000/svg","g"),a.setAttribute("id",""+t.id()),a.setAttribute("transform",`translate(${i} ${n})`),a.append(s),this.$_svg.prepend(a))}_updateNodePosition(t,e){const r=t.position(),o=r.x*e.k+e.x,i=r.y*e.k+e.y,n=this.getLabel(t);n&&n.setAttribute("transform",`translate(${o} ${i})`)}_removeContent(t){for(;t.firstChild;)t.removeChild(t.firstChild)}dispose(){this.$_svg.remove()}getLabel(t){return this.$_svg.getElementById(t.id())}draw(t,e=(t=>i(t.id()))){const r=this.$_core.transform();Array.isArray(t)?t.forEach(t=>this._drawNode(t,r,e)):this._drawNode(t,r,e)}updatePosition(t){const e=this.$_core.transform();Array.isArray(t)?t.forEach(t=>this._updateNodePosition(t,e)):this._updateNodePosition(t,e)}remove(t){var e;Array.isArray(t)?t.forEach(t=>{var e;null===(e=this.getLabel(t))||void 0===e||e.remove()}):null===(e=this.getLabel(t))||void 0===e||e.remove()}}const i=(t,e=18,r="black",o=.5,i=8)=>{const n=document.createElementNS("http://www.w3.org/2000/svg","text");return n.setAttribute("font-size",e+"px"),n.setAttribute("fill",""+r),n.setAttribute("stroke","white"),n.setAttribute("stroke-width",o+"px"),n.setAttribute("transform",`translate(${i} 0)`),n.setAttribute("text-anchor","start"),n.setAttribute("alignment-baseline","middle"),n.style.userSelect="none",n.innerHTML=t,n};o.template={rightText:i,topText:(t,e=18,r="black",o=.5,i=-8)=>{const n=document.createElementNS("http://www.w3.org/2000/svg","text");return n.setAttribute("font-size",e+"px"),n.setAttribute("fill",""+r),n.setAttribute("stroke","white"),n.setAttribute("stroke-width",o+"px"),n.setAttribute("transform",`translate(0 ${i})`),n.setAttribute("text-anchor","middle"),n.setAttribute("alignment-baseline","bottom"),n.style.userSelect="none",n.innerHTML=t,n}}}])}));