!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var s in n)("object"==typeof exports?exports:t)[s]=n[s]}}(window,(function(){return function(t){var e={};function n(s){if(e[s])return e[s].exports;var i=e[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(s,i,function(e){return t[e]}.bind(null,i));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";t.exports=function(t,e,n){var i=t*e,r=s*t,o=r-(r-t),h=t-o,a=s*e,u=a-(a-e),l=e-u,c=h*l-(i-o*u-h*u-o*l);if(n)return n[0]=c,n[1]=i,n;return[c,i]};var s=+(Math.pow(2,27)+1)},function(t,e,n){t.exports=function(t,e){for(var n=e[0],i=e[1],r=t.length,o=1,h=r,a=0,u=r-1;a<h;u=a++){var l=t[a],c=t[u],f=l[1],_=c[1];if(_<f){if(_<i&&i<f){if(0===(d=s(l,c,e)))return 0;o^=0<d|0}else if(i===f){var p=(v=t[(a+1)%r])[1];if(f<p){if(0===(d=s(l,c,e)))return 0;o^=0<d|0}}}else if(f<_){if(f<i&&i<_){if(0===(d=s(l,c,e)))return 0;o^=d<0|0}else if(i===f){var v=t[(a+1)%r];if((p=v[1])<f){var d;if(0===(d=s(l,c,e)))return 0;o^=d<0|0}}}else if(i===f){var y=Math.min(l[0],c[0]),g=Math.max(l[0],c[0]);if(0===a){for(;u>0;){var b=(u+r-1)%r;if((M=t[b])[1]!==i)break;var w=M[0];y=Math.min(y,w),g=Math.max(g,w),u=b}if(0===u)return y<=n&&n<=g?0:1;h=u+1}for(var m=t[(u+r-1)%r][1];a+1<h;){var M;if((M=t[a+1])[1]!==i)break;w=M[0];y=Math.min(y,w),g=Math.max(g,w),a+=1}if(y<=n&&n<=g)return 0;var k=t[(a+1)%r][1];n<y&&m<i!=k<i&&(o^=1)}}return 2*o-1};var s=n(3)},function(t,e,n){"use strict";n.r(e),n.d(e,"Lasso",(function(){return r}));var s=n(1),i=n.n(s);class r{constructor(t,e){this.$_svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.$_core=t,t.$_container.prepend(this.$_svg),this.$_svg.setAttribute("id","lasso-svg"),this.$_svg.setAttribute("width",t.$_configs.width),this.$_svg.setAttribute("height",t.$_configs.height),t.$_container.style.position="relative",t.$_container.style.overflow="hidden",t.$_container.style.width=t.$_configs.width,t.$_container.style.height=t.$_configs.height,this.$_svg.style.position="absolute",this.$_svg.style.zIndex="20",this.$_svg.style.overflow="visible",this.$_svg.style.pointerEvents="none",this._pathStyle={fill:"rgba(200, 200, 200, 0.2)",stroke:"black","stroke-width":2,"stroke-dasharray":[],"stroke-linejoin":"round","stroke-linecap":"round",...e.pathStyle},this._multiSelectKey=e&&e.multiSelectKey||"Shift",this._multiSelect=!1,this._width=t.$_configs.width,this._height=t.$_configs.height,this._closeDistance=100,this._paths=[],this._pathPoints=[],this._selectedItems=[],this._selectedCallback=null,this._keyDownListener=this._onKeyDown.bind(this),this._keyUpListener=this._onKeyUp.bind(this),window.addEventListener("keydown",this._keyDownListener),window.addEventListener("keyup",this._keyUpListener),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),window.addEventListener("mousedown",this._onMouseDown),window.addEventListener("mousemove",this._onMouseMove),window.addEventListener("mouseup",this._onMouseUp),e&&!0===e.enable&&this.enable()}dispose(){window.removeEventListener("keydown",this._keyDownListener),window.removeEventListener("keyup",this._keyUpListener),this.$_svg.remove(),window.removeEventListener("mousedown",this._onMouseDown),window.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("mouseup",this._onMouseUp)}enable(){this.$_svg.style.pointerEvents="visible"}disable(){this.$_svg.style.pointerEvents="none"}closeDistance(t){this._closeDistance=t}onSelected(t){this._selectedCallback=t}_onMouseDown(t){if(0!==t.button)return;this._selecting=!0,this._path=document.createElementNS("http://www.w3.org/2000/svg","path"),this._path.setAttribute("fill",this._pathStyle.fill),this._path.setAttribute("stroke",this._pathStyle.stroke),this._path.setAttribute("stroke-width",this._pathStyle["stroke-width"]),this._path.setAttribute("stroke-dasharray",this._pathStyle["stroke-dasharray"]),this._path.setAttribute("stroke-linejoin",this._pathStyle["stroke-linejoin"]),this._path.setAttribute("stroke-linecap",this._pathStyle["stroke-linecap"]),this.$_svg.appendChild(this._path);const e=t.offsetX,n=t.offsetY;this._pathPoints=[[e,n]],this._pathD=`M${e},${n}L${e},${n}`,this._path.setAttribute("d",this._pathD)}_onMouseMove(t){if(0!==t.button)return;if(!this._selecting)return;const e=t.offsetX,n=t.offsetY;this._pathPoints.push([e,n]),this._pathD+=` ${e},${n}`,this._path.setAttribute("d",this._pathD)}_onMouseUp(t){0===t.button&&(this._selecting=!1,this._getSelectedItems(),this._multiSelect?this._paths.push(this._path):(this._path.remove(),this._selectedCallback&&this._selectedCallback(this._selectedItems),this._selectedItems=[]))}_onKeyDown(t){t.key===this._multiSelectKey&&(this._multiSelect=!0)}_onKeyUp(t){t.key===this._multiSelectKey&&(this._multiSelect=!1,this._paths.forEach(t=>t.remove()),this._selectedCallback&&this._selectedCallback(this._selectedItems),this._selectedItems=[])}_getSelectedItems(){const t=this._pathPoints[0],e=this._pathPoints[this._pathPoints.length-1];if((t[0]-e[0])**2+(t[1]-e[1])**2>this._closeDistance*this._closeDistance)return;const n=this.$_core.nodes(),s=this.$_core.transform();this._selectedItems.push(...n.filter(t=>{const e=t.x()*s.k+s.x,n=t.y()*s.k+s.y;return i()(this._pathPoints,[e,n])<0}))}}},function(t,e,n){"use strict";var s=n(0),i=n(4),r=n(5),o=n(7);function h(t,e,n,s){return function(n,i,r){var o=t(t(e(i[1],r[0]),e(-r[1],i[0])),t(e(n[1],i[0]),e(-i[1],n[0]))),h=t(e(n[1],r[0]),e(-r[1],n[0])),a=s(o,h);return a[a.length-1]}}function a(t,e,n,s){return function(i,r,o,h){var a=t(t(n(t(e(o[1],h[0]),e(-h[1],o[0])),r[2]),t(n(t(e(r[1],h[0]),e(-h[1],r[0])),-o[2]),n(t(e(r[1],o[0]),e(-o[1],r[0])),h[2]))),t(n(t(e(r[1],h[0]),e(-h[1],r[0])),i[2]),t(n(t(e(i[1],h[0]),e(-h[1],i[0])),-r[2]),n(t(e(i[1],r[0]),e(-r[1],i[0])),h[2])))),u=t(t(n(t(e(o[1],h[0]),e(-h[1],o[0])),i[2]),t(n(t(e(i[1],h[0]),e(-h[1],i[0])),-o[2]),n(t(e(i[1],o[0]),e(-o[1],i[0])),h[2]))),t(n(t(e(r[1],o[0]),e(-o[1],r[0])),i[2]),t(n(t(e(i[1],o[0]),e(-o[1],i[0])),-r[2]),n(t(e(i[1],r[0]),e(-r[1],i[0])),o[2])))),l=s(a,u);return l[l.length-1]}}function u(t,e,n,s){return function(i,r,o,h,a){var u=t(t(t(n(t(n(t(e(h[1],a[0]),e(-a[1],h[0])),o[2]),t(n(t(e(o[1],a[0]),e(-a[1],o[0])),-h[2]),n(t(e(o[1],h[0]),e(-h[1],o[0])),a[2]))),r[3]),t(n(t(n(t(e(h[1],a[0]),e(-a[1],h[0])),r[2]),t(n(t(e(r[1],a[0]),e(-a[1],r[0])),-h[2]),n(t(e(r[1],h[0]),e(-h[1],r[0])),a[2]))),-o[3]),n(t(n(t(e(o[1],a[0]),e(-a[1],o[0])),r[2]),t(n(t(e(r[1],a[0]),e(-a[1],r[0])),-o[2]),n(t(e(r[1],o[0]),e(-o[1],r[0])),a[2]))),h[3]))),t(n(t(n(t(e(o[1],h[0]),e(-h[1],o[0])),r[2]),t(n(t(e(r[1],h[0]),e(-h[1],r[0])),-o[2]),n(t(e(r[1],o[0]),e(-o[1],r[0])),h[2]))),-a[3]),t(n(t(n(t(e(h[1],a[0]),e(-a[1],h[0])),r[2]),t(n(t(e(r[1],a[0]),e(-a[1],r[0])),-h[2]),n(t(e(r[1],h[0]),e(-h[1],r[0])),a[2]))),i[3]),n(t(n(t(e(h[1],a[0]),e(-a[1],h[0])),i[2]),t(n(t(e(i[1],a[0]),e(-a[1],i[0])),-h[2]),n(t(e(i[1],h[0]),e(-h[1],i[0])),a[2]))),-r[3])))),t(t(n(t(n(t(e(r[1],a[0]),e(-a[1],r[0])),i[2]),t(n(t(e(i[1],a[0]),e(-a[1],i[0])),-r[2]),n(t(e(i[1],r[0]),e(-r[1],i[0])),a[2]))),h[3]),t(n(t(n(t(e(r[1],h[0]),e(-h[1],r[0])),i[2]),t(n(t(e(i[1],h[0]),e(-h[1],i[0])),-r[2]),n(t(e(i[1],r[0]),e(-r[1],i[0])),h[2]))),-a[3]),n(t(n(t(e(o[1],h[0]),e(-h[1],o[0])),r[2]),t(n(t(e(r[1],h[0]),e(-h[1],r[0])),-o[2]),n(t(e(r[1],o[0]),e(-o[1],r[0])),h[2]))),i[3]))),t(n(t(n(t(e(o[1],h[0]),e(-h[1],o[0])),i[2]),t(n(t(e(i[1],h[0]),e(-h[1],i[0])),-o[2]),n(t(e(i[1],o[0]),e(-o[1],i[0])),h[2]))),-r[3]),t(n(t(n(t(e(r[1],h[0]),e(-h[1],r[0])),i[2]),t(n(t(e(i[1],h[0]),e(-h[1],i[0])),-r[2]),n(t(e(i[1],r[0]),e(-r[1],i[0])),h[2]))),o[3]),n(t(n(t(e(r[1],o[0]),e(-o[1],r[0])),i[2]),t(n(t(e(i[1],o[0]),e(-o[1],i[0])),-r[2]),n(t(e(i[1],r[0]),e(-r[1],i[0])),o[2]))),-h[3]))))),l=t(t(t(n(t(n(t(e(h[1],a[0]),e(-a[1],h[0])),o[2]),t(n(t(e(o[1],a[0]),e(-a[1],o[0])),-h[2]),n(t(e(o[1],h[0]),e(-h[1],o[0])),a[2]))),i[3]),n(t(n(t(e(h[1],a[0]),e(-a[1],h[0])),i[2]),t(n(t(e(i[1],a[0]),e(-a[1],i[0])),-h[2]),n(t(e(i[1],h[0]),e(-h[1],i[0])),a[2]))),-o[3])),t(n(t(n(t(e(o[1],a[0]),e(-a[1],o[0])),i[2]),t(n(t(e(i[1],a[0]),e(-a[1],i[0])),-o[2]),n(t(e(i[1],o[0]),e(-o[1],i[0])),a[2]))),h[3]),n(t(n(t(e(o[1],h[0]),e(-h[1],o[0])),i[2]),t(n(t(e(i[1],h[0]),e(-h[1],i[0])),-o[2]),n(t(e(i[1],o[0]),e(-o[1],i[0])),h[2]))),-a[3]))),t(t(n(t(n(t(e(o[1],a[0]),e(-a[1],o[0])),r[2]),t(n(t(e(r[1],a[0]),e(-a[1],r[0])),-o[2]),n(t(e(r[1],o[0]),e(-o[1],r[0])),a[2]))),i[3]),n(t(n(t(e(o[1],a[0]),e(-a[1],o[0])),i[2]),t(n(t(e(i[1],a[0]),e(-a[1],i[0])),-o[2]),n(t(e(i[1],o[0]),e(-o[1],i[0])),a[2]))),-r[3])),t(n(t(n(t(e(r[1],a[0]),e(-a[1],r[0])),i[2]),t(n(t(e(i[1],a[0]),e(-a[1],i[0])),-r[2]),n(t(e(i[1],r[0]),e(-r[1],i[0])),a[2]))),o[3]),n(t(n(t(e(r[1],o[0]),e(-o[1],r[0])),i[2]),t(n(t(e(i[1],o[0]),e(-o[1],i[0])),-r[2]),n(t(e(i[1],r[0]),e(-r[1],i[0])),o[2]))),-a[3])))),c=s(u,l);return c[c.length-1]}}function l(t){return(3===t?h:4===t?a:u)(i,s,r,o)}var c=l(3),f=l(4),_=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var s,i=(t[1]-n[1])*(e[0]-n[0]),r=(t[0]-n[0])*(e[1]-n[1]),o=i-r;if(i>0){if(r<=0)return o;s=i+r}else{if(!(i<0))return o;if(r>=0)return o;s=-(i+r)}var h=33306690738754716e-32*s;return o>=h||o<=-h?o:c(t,e,n)},function(t,e,n,s){var i=t[0]-s[0],r=e[0]-s[0],o=n[0]-s[0],h=t[1]-s[1],a=e[1]-s[1],u=n[1]-s[1],l=t[2]-s[2],c=e[2]-s[2],_=n[2]-s[2],p=r*u,v=o*a,d=o*h,y=i*u,g=i*a,b=r*h,w=l*(p-v)+c*(d-y)+_*(g-b),m=7771561172376103e-31*((Math.abs(p)+Math.abs(v))*Math.abs(l)+(Math.abs(d)+Math.abs(y))*Math.abs(c)+(Math.abs(g)+Math.abs(b))*Math.abs(_));return w>m||-w>m?w:f(t,e,n,s)}];function p(t){var e=_[t.length];return e||(e=_[t.length]=l(t.length)),e.apply(void 0,t)}function v(t,e,n,s,i,r,o){return function(e,n,h,a,u){switch(arguments.length){case 0:case 1:return 0;case 2:return s(e,n);case 3:return i(e,n,h);case 4:return r(e,n,h,a);case 5:return o(e,n,h,a,u)}for(var l=new Array(arguments.length),c=0;c<arguments.length;++c)l[c]=arguments[c];return t(l)}}!function(){for(;_.length<=5;)_.push(l(_.length));t.exports=v.apply(void 0,[p].concat(_));for(var e=0;e<=5;++e)t.exports[e]=_[e]}()},function(t,e,n){"use strict";t.exports=function(t,e){var n=0|t.length,s=0|e.length;if(1===n&&1===s)return function(t,e){var n=t+e,s=n-t,i=t-(n-s)+(e-s);if(i)return[i,n];return[n]}(t[0],e[0]);var i,r,o=new Array(n+s),h=0,a=0,u=0,l=Math.abs,c=t[a],f=l(c),_=e[u],p=l(_);f<p?(r=c,(a+=1)<n&&(c=t[a],f=l(c))):(r=_,(u+=1)<s&&(_=e[u],p=l(_)));a<n&&f<p||u>=s?(i=c,(a+=1)<n&&(c=t[a],f=l(c))):(i=_,(u+=1)<s&&(_=e[u],p=l(_)));var v,d,y=i+r,g=y-i,b=r-g,w=b,m=y;for(;a<n&&u<s;)f<p?(i=c,(a+=1)<n&&(c=t[a],f=l(c))):(i=_,(u+=1)<s&&(_=e[u],p=l(_))),(b=(r=w)-(g=(y=i+r)-i))&&(o[h++]=b),w=m-((v=m+y)-(d=v-m))+(y-d),m=v;for(;a<n;)(b=(r=w)-(g=(y=(i=c)+r)-i))&&(o[h++]=b),w=m-((v=m+y)-(d=v-m))+(y-d),m=v,(a+=1)<n&&(c=t[a]);for(;u<s;)(b=(r=w)-(g=(y=(i=_)+r)-i))&&(o[h++]=b),w=m-((v=m+y)-(d=v-m))+(y-d),m=v,(u+=1)<s&&(_=e[u]);w&&(o[h++]=w);m&&(o[h++]=m);h||(o[h++]=0);return o.length=h,o}},function(t,e,n){"use strict";var s=n(0),i=n(6);t.exports=function(t,e){var n=t.length;if(1===n){var r=s(t[0],e);return r[0]?r:[r[1]]}var o=new Array(2*n),h=[.1,.1],a=[.1,.1],u=0;s(t[0],e,h),h[0]&&(o[u++]=h[0]);for(var l=1;l<n;++l){s(t[l],e,a);var c=h[1];i(c,a[0],h),h[0]&&(o[u++]=h[0]);var f=a[1],_=h[1],p=f+_,v=_-(p-f);h[1]=p,v&&(o[u++]=v)}h[1]&&(o[u++]=h[1]);0===u&&(o[u++]=0);return o.length=u,o}},function(t,e,n){"use strict";t.exports=function(t,e,n){var s=t+e,i=s-t,r=e-i,o=t-(s-i);if(n)return n[0]=o+r,n[1]=s,n;return[o+r,s]}},function(t,e,n){"use strict";t.exports=function(t,e){var n=0|t.length,s=0|e.length;if(1===n&&1===s)return function(t,e){var n=t+e,s=n-t,i=t-(n-s)+(e-s);if(i)return[i,n];return[n]}(t[0],-e[0]);var i,r,o=new Array(n+s),h=0,a=0,u=0,l=Math.abs,c=t[a],f=l(c),_=-e[u],p=l(_);f<p?(r=c,(a+=1)<n&&(c=t[a],f=l(c))):(r=_,(u+=1)<s&&(_=-e[u],p=l(_)));a<n&&f<p||u>=s?(i=c,(a+=1)<n&&(c=t[a],f=l(c))):(i=_,(u+=1)<s&&(_=-e[u],p=l(_)));var v,d,y=i+r,g=y-i,b=r-g,w=b,m=y;for(;a<n&&u<s;)f<p?(i=c,(a+=1)<n&&(c=t[a],f=l(c))):(i=_,(u+=1)<s&&(_=-e[u],p=l(_))),(b=(r=w)-(g=(y=i+r)-i))&&(o[h++]=b),w=m-((v=m+y)-(d=v-m))+(y-d),m=v;for(;a<n;)(b=(r=w)-(g=(y=(i=c)+r)-i))&&(o[h++]=b),w=m-((v=m+y)-(d=v-m))+(y-d),m=v,(a+=1)<n&&(c=t[a]);for(;u<s;)(b=(r=w)-(g=(y=(i=_)+r)-i))&&(o[h++]=b),w=m-((v=m+y)-(d=v-m))+(y-d),m=v,(u+=1)<s&&(_=-e[u]);w&&(o[h++]=w);m&&(o[h++]=m);h||(o[h++]=0);return o.length=h,o}}])}));