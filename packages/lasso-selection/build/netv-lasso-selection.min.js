!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";t.exports=function(t,e,n){var s=t*e,r=i*t,o=r-(r-t),h=t-o,a=i*e,u=a-(a-e),l=e-u,c=h*l-(s-o*u-h*u-o*l);if(n)return n[0]=c,n[1]=s,n;return[c,s]};var i=+(Math.pow(2,27)+1)},function(t,e,n){t.exports=function(t,e){for(var n=e[0],s=e[1],r=t.length,o=1,h=r,a=0,u=r-1;a<h;u=a++){var l=t[a],c=t[u],f=l[1],p=c[1];if(p<f){if(p<s&&s<f){if(0===(d=i(l,c,e)))return 0;o^=0<d|0}else if(s===f){var _=(v=t[(a+1)%r])[1];if(f<_){if(0===(d=i(l,c,e)))return 0;o^=0<d|0}}}else if(f<p){if(f<s&&s<p){if(0===(d=i(l,c,e)))return 0;o^=d<0|0}else if(s===f){var v=t[(a+1)%r];if((_=v[1])<f){var d;if(0===(d=i(l,c,e)))return 0;o^=d<0|0}}}else if(s===f){var g=Math.min(l[0],c[0]),y=Math.max(l[0],c[0]);if(0===a){for(;u>0;){var w=(u+r-1)%r;if((M=t[w])[1]!==s)break;var b=M[0];g=Math.min(g,b),y=Math.max(y,b),u=w}if(0===u)return g<=n&&n<=y?0:1;h=u+1}for(var m=t[(u+r-1)%r][1];a+1<h;){var M;if((M=t[a+1])[1]!==s)break;b=M[0];g=Math.min(g,b),y=Math.max(y,b),a+=1}if(g<=n&&n<=y)return 0;var k=t[(a+1)%r][1];n<g&&m<s!=k<s&&(o^=1)}}return 2*o-1};var i=n(3)},function(t,e,n){"use strict";n.r(e),n.d(e,"Lasso",(function(){return r}));var i=n(1),s=n.n(i);class r{constructor(t,e){this.$_svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.$_core=t,t.$_container.prepend(this.$_svg),this.$_svg.setAttribute("id","lasso-svg"),this.$_svg.setAttribute("width",t.$_configs.width),this.$_svg.setAttribute("height",t.$_configs.height),t.$_container.style.position="relative",t.$_container.style.overflow="hidden",t.$_container.style.width=t.$_configs.width,t.$_container.style.height=t.$_configs.height,this.$_svg.style.position="absolute",this.$_svg.style.zIndex="20",this.$_svg.style.overflow="visible",this.$_svg.style.pointerEvents="none",this._pathStyle={fill:"rgba(200, 200, 200, 0.2)",stroke:"black","stroke-width":2,"stroke-dasharray":[],"stroke-linejoin":"round","stroke-linecap":"round",...e.pathStyle},this._multiSelectKey=e&&e.multiSelectKey||"Shift",this._multiSelect=!1,this._width=t.$_configs.width,this._height=t.$_configs.height,this._closeDistance=100,this._paths=[],this._pathPoints=[],this._selectedItems=[],this._selectedCallback=null,this._keyDownListener=this._onKeyDown.bind(this),this._keyUpListener=this._onKeyUp.bind(this),window.addEventListener("keydown",this._keyDownListener),window.addEventListener("keyup",this._keyUpListener),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),window.addEventListener("mousedown",this._onMouseDown),window.addEventListener("mousemove",this._onMouseMove),window.addEventListener("mouseup",this._onMouseUp),e&&!0===e.enable&&this.enable()}dispose(){window.removeEventListener("keydown",this._keyDownListener),window.removeEventListener("keyup",this._keyUpListener),this.$_svg.remove(),window.removeEventListener("mousedown",this._onMouseDown),window.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("mouseup",this._onMouseUp)}enable(){this.$_svg.style.pointerEvents="visible"}disable(){this.$_svg.style.pointerEvents="none"}closeDistance(t){this._closeDistance=t}onSelected(t){this._selectedCallback=t}_onMouseDown(t){if(0!==t.button)return;this._selecting=!0,this._path=document.createElementNS("http://www.w3.org/2000/svg","path"),this._path.setAttribute("fill",this._pathStyle.fill),this._path.setAttribute("stroke",this._pathStyle.stroke),this._path.setAttribute("stroke-width",this._pathStyle["stroke-width"]),this._path.setAttribute("stroke-dasharray",this._pathStyle["stroke-dasharray"]),this._path.setAttribute("stroke-linejoin",this._pathStyle["stroke-linejoin"]),this._path.setAttribute("stroke-linecap",this._pathStyle["stroke-linecap"]),this.$_svg.appendChild(this._path);const e=t.offsetX,n=t.offsetY;this._pathPoints=[[e,n]],this._pathD=`M${e},${n}L${e},${n}`,this._path.setAttribute("d",this._pathD)}_onMouseMove(t){if(0!==t.button)return;if(!this._selecting)return;const e=t.offsetX,n=t.offsetY;this._pathPoints.push([e,n]),this._pathD+=` ${e},${n}`,this._path.setAttribute("d",this._pathD)}_onMouseUp(t){0===t.button&&(this._selecting=!1,this._getSelectedItems(),this._multiSelect?this._paths.push(this._path):(this._path.remove(),this._selectedCallback&&this._selectedCallback(this._selectedItems),this._selectedItems=[]))}_onKeyDown(t){t.key===this._multiSelectKey&&(this._multiSelect=!0)}_onKeyUp(t){t.key===this._multiSelectKey&&(this._multiSelect=!1,this._paths.forEach(t=>t.remove()),this._selectedCallback&&this._selectedCallback(this._selectedItems),this._selectedItems=[])}_getSelectedItems(){const t=this._pathPoints[0],e=this._pathPoints[this._pathPoints.length-1];if((t[0]-e[0])**2+(t[1]-e[1])**2>this._closeDistance*this._closeDistance)return;const n=this.$_core.nodes(),i=this.$_core.transform();this._selectedItems.push(...n.filter(t=>{const e=t.x()*i.k+i.x,n=t.y()*i.k+i.y;return s()(this._pathPoints,[e,n])<0}))}}},function(t,e,n){"use strict";var i=n(0),s=n(4),r=n(5),o=n(7);function h(t,e){for(var n=new Array(t.length-1),i=1;i<t.length;++i)for(var s=n[i-1]=new Array(t.length-1),r=0,o=0;r<t.length;++r)r!==e&&(s[o++]=t[i][r]);return n}function a(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",a(t.slice(0,e)),",",a(t.slice(e)),")"].join("")}function u(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var e=[],n=0;n<t.length;++n)e.push(["scale(",a(u(h(t,n))),",",(i=n,1&i?"-":""),t[0][n],")"].join(""));return e;var i}function l(t){for(var e=[],n=[],l=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var i=0;i<t;++i)e[n][i]=["m",i,"[",t-n-1,"]"].join("")}return e}(t),c=[],f=0;f<t;++f)0==(1&f)?e.push.apply(e,u(h(l,f))):n.push.apply(n,u(h(l,f))),c.push("m"+f);var p=a(e),_=a(n),v="orientation"+t+"Exact",d=["function ",v,"(",c.join(),"){var p=",p,",n=",_,",d=sub(p,n);return d[d.length-1];};return ",v].join("");return new Function("sum","prod","scale","sub",d)(s,i,r,o)}var c=l(3),f=l(4),p=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var i,s=(t[1]-n[1])*(e[0]-n[0]),r=(t[0]-n[0])*(e[1]-n[1]),o=s-r;if(s>0){if(r<=0)return o;i=s+r}else{if(!(s<0))return o;if(r>=0)return o;i=-(s+r)}var h=33306690738754716e-32*i;return o>=h||o<=-h?o:c(t,e,n)},function(t,e,n,i){var s=t[0]-i[0],r=e[0]-i[0],o=n[0]-i[0],h=t[1]-i[1],a=e[1]-i[1],u=n[1]-i[1],l=t[2]-i[2],c=e[2]-i[2],p=n[2]-i[2],_=r*u,v=o*a,d=o*h,g=s*u,y=s*a,w=r*h,b=l*(_-v)+c*(d-g)+p*(y-w),m=7771561172376103e-31*((Math.abs(_)+Math.abs(v))*Math.abs(l)+(Math.abs(d)+Math.abs(g))*Math.abs(c)+(Math.abs(y)+Math.abs(w))*Math.abs(p));return b>m||-b>m?b:f(t,e,n,i)}];function _(t){var e=p[t.length];return e||(e=p[t.length]=l(t.length)),e.apply(void 0,t)}!function(){for(;p.length<=5;)p.push(l(p.length));for(var e=[],n=["slow"],i=0;i<=5;++i)e.push("a"+i),n.push("o"+i);var s=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(i=2;i<=5;++i)s.push("case ",i,":return o",i,"(",e.slice(0,i).join(),");");s.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(s.join(""));var r=Function.apply(void 0,n);for(t.exports=r.apply(void 0,[_].concat(p)),i=0;i<=5;++i)t.exports[i]=p[i]}()},function(t,e,n){"use strict";t.exports=function(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return function(t,e){var n=t+e,i=n-t,s=t-(n-i)+(e-i);if(s)return[s,n];return[n]}(t[0],e[0]);var s,r,o=new Array(n+i),h=0,a=0,u=0,l=Math.abs,c=t[a],f=l(c),p=e[u],_=l(p);f<_?(r=c,(a+=1)<n&&(c=t[a],f=l(c))):(r=p,(u+=1)<i&&(p=e[u],_=l(p)));a<n&&f<_||u>=i?(s=c,(a+=1)<n&&(c=t[a],f=l(c))):(s=p,(u+=1)<i&&(p=e[u],_=l(p)));var v,d,g=s+r,y=g-s,w=r-y,b=w,m=g;for(;a<n&&u<i;)f<_?(s=c,(a+=1)<n&&(c=t[a],f=l(c))):(s=p,(u+=1)<i&&(p=e[u],_=l(p))),(w=(r=b)-(y=(g=s+r)-s))&&(o[h++]=w),b=m-((v=m+g)-(d=v-m))+(g-d),m=v;for(;a<n;)(w=(r=b)-(y=(g=(s=c)+r)-s))&&(o[h++]=w),b=m-((v=m+g)-(d=v-m))+(g-d),m=v,(a+=1)<n&&(c=t[a]);for(;u<i;)(w=(r=b)-(y=(g=(s=p)+r)-s))&&(o[h++]=w),b=m-((v=m+g)-(d=v-m))+(g-d),m=v,(u+=1)<i&&(p=e[u]);b&&(o[h++]=b);m&&(o[h++]=m);h||(o[h++]=0);return o.length=h,o}},function(t,e,n){"use strict";var i=n(0),s=n(6);t.exports=function(t,e){var n=t.length;if(1===n){var r=i(t[0],e);return r[0]?r:[r[1]]}var o=new Array(2*n),h=[.1,.1],a=[.1,.1],u=0;i(t[0],e,h),h[0]&&(o[u++]=h[0]);for(var l=1;l<n;++l){i(t[l],e,a);var c=h[1];s(c,a[0],h),h[0]&&(o[u++]=h[0]);var f=a[1],p=h[1],_=f+p,v=p-(_-f);h[1]=_,v&&(o[u++]=v)}h[1]&&(o[u++]=h[1]);0===u&&(o[u++]=0);return o.length=u,o}},function(t,e,n){"use strict";t.exports=function(t,e,n){var i=t+e,s=i-t,r=e-s,o=t-(i-s);if(n)return n[0]=o+r,n[1]=i,n;return[o+r,i]}},function(t,e,n){"use strict";t.exports=function(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return function(t,e){var n=t+e,i=n-t,s=t-(n-i)+(e-i);if(s)return[s,n];return[n]}(t[0],-e[0]);var s,r,o=new Array(n+i),h=0,a=0,u=0,l=Math.abs,c=t[a],f=l(c),p=-e[u],_=l(p);f<_?(r=c,(a+=1)<n&&(c=t[a],f=l(c))):(r=p,(u+=1)<i&&(p=-e[u],_=l(p)));a<n&&f<_||u>=i?(s=c,(a+=1)<n&&(c=t[a],f=l(c))):(s=p,(u+=1)<i&&(p=-e[u],_=l(p)));var v,d,g=s+r,y=g-s,w=r-y,b=w,m=g;for(;a<n&&u<i;)f<_?(s=c,(a+=1)<n&&(c=t[a],f=l(c))):(s=p,(u+=1)<i&&(p=-e[u],_=l(p))),(w=(r=b)-(y=(g=s+r)-s))&&(o[h++]=w),b=m-((v=m+g)-(d=v-m))+(g-d),m=v;for(;a<n;)(w=(r=b)-(y=(g=(s=c)+r)-s))&&(o[h++]=w),b=m-((v=m+g)-(d=v-m))+(g-d),m=v,(a+=1)<n&&(c=t[a]);for(;u<i;)(w=(r=b)-(y=(g=(s=p)+r)-s))&&(o[h++]=w),b=m-((v=m+g)-(d=v-m))+(g-d),m=v,(u+=1)<i&&(p=-e[u]);b&&(o[h++]=b);m&&(o[h++]=m);h||(o[h++]=0);return o.length=h,o}}])}));